# <WPageTitle></WPageTitle>

:::warning
加密还没深入看，目前可以看到就是key/iv不同，但其实不同加密场景应该使用的加密方式应该也不相同。后续版本迭代中会深入改造一下。
:::

## 项目加密现状

- 项目加密基于 `CryptoJS` 实现，目前包含三个加密实例，分别用于不同场景：
  - `AppPersistEncryption`：处理持久化数据的加密
  - `AppRequestEncryption`：处理请求数据的加密
  - `AppResponseEncryption`：处理响应数据的加密

- 三个实例的共性与差异：
  - 差异：仅 `key`（密钥）和 `IV`（初始化向量）不同
  - 共性：加密方法、加密模式、填充方案等其他参数完全一致

## 等保级别要求（以等保3级为例）

不同场景下的加密需满足对应的安全要求：

- **持久化加密**：
  - 需保障数据存储时的机密性，应采用高强度算法（如AES-256）
  - 密钥需定期轮换，且存储需与数据分离，符合权限管控要求

- **请求加密**：
  - 需确保数据传输过程中的完整性（防篡改）和机密性（防窃听）
  - 建议结合时间戳、随机数等防止重放攻击，加密强度不低于AES-128

- **响应加密**：
  - 加密强度应与请求加密匹配，需包含数据校验机制（如HMAC）
  - 解密后需验证数据来源合法性，防止伪造响应

## 后续加密规划

1. **新增URL参数加密实例**：
   - 用途：专门处理浏览器URL中参数的加密
   - 特性：加密后的数据需兼容URL编码规则（避免特殊字符），可考虑Base64URL编码配合加密

2. 整体优化方向：
   - 按场景差异化配置加密参数（如`method`、`mode`、`padding`），不再共用一套参数
   - 完善密钥管理体系，符合等保对密钥生成、分发、销毁的规范
